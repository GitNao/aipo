#*
 * Aipo is a groupware program developed by Aimluck,Inc.
 * Copyright (C) 2004-2008 Aimluck,Inc.
 * http://aipostyle.com/
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see <http:// www.gnu.org/licenses/>.
 *#
## ---------------------------------------------------------------------------
#set($link = "$!jslink.getPortletById($!portlet.ID).addQueryData('eventSubmit_eventSubmit_doSchedule_list_select_member','1').addQueryData('selectedmember', $result.TargerUser.UserId)")
##set($methodlist = [["登録(1日)へ", "$!jslink.getPortletById($!portlet.ID).addQueryData('eventSubmit_doSchedule_form_oneday','1').addQueryData('entityid','new').addQueryData('view_date', $!{result.ViewDate.toString()})"], ["登録(繰り返し)へ", "$!jslink.getPortletById($!portlet.ID).addQueryData('eventSubmit_doSchedule_form_repeat','1').addQueryData('entityid','new').addQueryData('view_date', $!{result.ViewDate.toString()})"], ["登録(期間)へ", "$!jslink.getPortletById($!portlet.ID).addQueryData('eventSubmit_doSchedule_form_span','1').addQueryData('entityid','new').addQueryData('view_date', $!{result.ViewDate.toString()})"]])
#set($linklist = [["$result.TargerUser.AliasName さんのｽｹｼﾞｭｰﾙへ", "$!jslink.getPortletById($!portlet.ID).addQueryData('eventSubmit_doSchedule_menu_select_member','1').addQueryData('selectedmember', $result.TargerUser.UserId)"]])
#ALcell_pagetitle($career "$result.TargerUser.AliasName さんのｽｹｼﾞｭｰﾙ(1日)一覧")
$!{result.ViewDate.Year}年$!{result.ViewDate.Month}月$!{result.ViewDate.Day}日$!{result.ViewDate.DayOfWeek}#ALcell_br($career)
<a href="$!jslink.addQueryData('js_peid',$!portlet.ID).addQueryData('eventSubmit_doSchedule_list_select_member','1').addQueryData('selectedmember', $result.TargerUser.UserId).addQueryData('view_date',$!{result.PrevDate.toString()})">前日</a>
<a href="$!jslink.addQueryData('js_peid',$!portlet.ID).addQueryData('eventSubmit_doSchedule_list_select_member','1').addQueryData('selectedmember', $result.TargerUser.UserId).addQueryData('view_date',$!{result.Today.toString()})">今日</a>
<a href="$!jslink.addQueryData('js_peid',$!portlet.ID).addQueryData('eventSubmit_doSchedule_list_select_member','1').addQueryData('selectedmember', $result.TargerUser.UserId).addQueryData('view_date',$!{result.NextDate.toString()})">翌日</a>
#ALcell_hr($career '1')
#if($!{result.List.size()} <= 0)
予定はありません。
#else
#if($result.PagesNum > 1)
#ALcell_pageview($career $link $result)
#ALcell_hr($career '1')
#end
<ul>
#foreach($record in $!{result.List})
#if ($!{record.Name.Value})
#ALcell_li_header($career)

#if(!${record.isPublic()} && !${record.isMember()})
<span>
#if($schedule.Repeat)
期間：
#else
$!{record.Date}#ALcell_br($career)
#end
非公開
#if($record.isDuplicate())(重複)#end
#if($record.isRepeat())(繰り返し)#end
#if($record.isTmpreserve())(仮)#end
</span>

#else

<a href="$!jslink.getPortletById($!portlet.ID).addQueryData('eventSubmit_doSchedule_detail_select_member','1').addQueryData('entityid', $!{record.ScheduleId}).addQueryData('view_date', $!{result.ViewDate.toString()}).addQueryData('selectedmember', $result.TargerUser.UserId).addQueryData('userid', $result.TargerUser.UserId)">

#if(!$!{record.isSpan()})
$!{record.Date}#ALcell_br($career)
#else
期間：
#end
$!{record.Name}
#if($record.isDuplicate())(重複)#end
#if($record.isRepeat())(繰り返し)#end
#if($record.isTmpreserve())(仮)#end
</a>

#end

#ALcell_li_footer($career)
#else
##予定追加1
#end
#end
</ul>
#end
#ALcell_hr($career '1')
#if($!{result.ToDoResultDataList.size()} <= 0)
ToDoはありません。
#else
<ul>
#foreach($record in $result.ToDoResultDataList)
#ALcell_li_header($career)
#if(${record.isPublic()})
<a href="$record.TodoUrl">${record.TodoName}</a>
#end
#ALcell_li_footer($career)
#end
</ul>
#end
#if($result.PagesNum > 1)
#ALcell_hr($career '1')
#ALcell_pageview($career $link $result)
#end
##ALcell_hr($career '1')
##ALcell_linklist($career $methodlist)
#ALcell_hr($career '1')
#ALcell_linklist($career $linklist)
#ALtdcellFooterLink($career)
